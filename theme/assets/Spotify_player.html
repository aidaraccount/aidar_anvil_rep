<script src="https://open.spotify.com/embed/iframe-api/v1" async></script>
<div id="embed-iframe"></div>
<!-- <button>Play</button> -->
<!-- <script>
  var controller;
  
  function createOrUpdateSpotifyPlayer(uri) {
    const element = document.getElementById('embed-iframe');
    const options = {
      theme: 'dark',
      width: '100%',
      height: '80',
      uri: uri,
    };
    
    if (window.SpotifyIframeAPI) {
      window.SpotifyIframeAPI.createController(element, options, (EmbedController) => {
        controller = EmbedController;
        controller.addListener('ready', () => {
          console.log('ready');
        });
      });
    } else {
      window.onSpotifyIframeApiReady = (IFrameAPI) => {
        window.SpotifyIframeAPI = IFrameAPI; // Store the API globally for future use
        IFrameAPI.createController(element, options, (EmbedController) => {
          controller = EmbedController;
          controller.addListener('ready', () => {
            console.log('ready');
          });
        });
      };
    }
  }
</script> -->














<!--  OLD VERSION STARTS HERE -->

<!-- <script src="https://open.spotify.com/embed/iframe-api/v1" async></script>

<div id="embed-iframe"></div>

<button>Play</button>
<script>
  let controller;

  window.onSpotifyIframeApiReady = IFrameAPI => {
    const element = document.getElementById('embed-iframe');
    const options = {
      theme: 'dark',
      width: '100%',
      height: '80',
      uri: 'spotify:track:7J1uxwnxfQLu4APicE5Rnj',
    };
    const callback = EmbedController => {
      controller = EmbedController;
      controller.addListener('ready', () => {
        console.log('ready');
      });
    };
    IFrameAPI.createController(element, options, callback);
  };
</script> -->