/* 1. Default layout styles */
/* Make sure all containers use border-box sizing */
* {
  box-sizing: border-box;
}

/* Target the main container and column panels */
.anvil-container {
  max-width: 100%;
  overflow-x: hidden;
}

/* Adjust column widths for desktop layout */
.anvil-container[anvil-container-name="sec_agents"] {
  width: 67%;
  padding-right: 15px;
  float: left;
}

.anvil-container[anvil-container-name="sec_shorts"] {
  width: 67%;
  padding-right: 15px;
  clear: left;
  float: left;
}

.anvil-container[anvil-container-name="sec_next"] {
  width: 33%;
  padding-left: 15px;
  float: right;
}

.anvil-container[anvil-container-name="sec_hot"] {
  width: 33%;
  padding-left: 15px;
  clear: right;
  float: right;
}

/* Clear floats */
.anvil-container[anvil-container-name="content_panel"]::after {
  content: "";
  display: table;
  clear: both;
}

/* 2. Mobile layout (stacked columns) */
@media screen and (max-width: 768px) {
  /* Reset floats and make full width for mobile */
  .anvil-container[anvil-container-name="sec_agents"],
  .anvil-container[anvil-container-name="sec_shorts"],
  .anvil-container[anvil-container-name="sec_next"],
  .anvil-container[anvil-container-name="sec_hot"] {
    width: 100% !important;
    float: none !important;
    clear: both !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-bottom: 20px !important;
  }
  
  /* Prepare content panel for custom ordering */
  .anvil-container[anvil-container-name="content_panel"] {
    display: flex !important;
    flex-direction: column !important;
  }
  
  /* Global fixes for mobile columns */
  .anvil-panel-row {
    display: block !important;
  }
  
  /* Apply custom ordering to individual sections */
  /* 1. Agents First */
  .anvil-container[anvil-container-name="sec_agents"] {
    position: relative !important;
    order: 1 !important;
  }
  
  /* 2. Next Second */
  .anvil-container[anvil-container-name="sec_next"] {
    position: relative !important;
    order: 2 !important;
  }
  
  /* 3. Hot Third */
  .anvil-container[anvil-container-name="sec_hot"] {
    position: relative !important;
    order: 3 !important;
  }
  
  /* 4. Shorts Last */
  .anvil-container[anvil-container-name="sec_shorts"] {
    position: relative !important;
    order: 4 !important;
  }
  
  /* Custom selector to target the specific columns */
  .anvil-panel-col-QVOGKC,
  .anvil-panel-col-EQZHSN {
    width: 100% !important;
    display: contents !important; /* This allows children to be positioned by flex order */
  }
  
  /* Force direct positioning of all section containers */
  .anvil-container[anvil-container-name="sec_agents"],
  .anvil-container[anvil-container-name="sec_shorts"],
  .anvil-container[anvil-container-name="sec_next"],
  .anvil-container[anvil-container-name="sec_hot"] {
    position: relative !important;
  }
  
  /* Reset any flex/float layout that might interfere */
  .anvil-panel-col {
    width: 100% !important;
    margin: 0 !important;
  }
  
  /* Mobile layout fix for wrap-mobile elements */
  .wrap-mobile {
    display: block !important;
    width: 100% !important;
    float: none !important;
    margin-bottom: 10px !important;
  }
}

/* 3. Extra fixes for specific layouts */
@media screen and (max-width: 768px) {
  /* Make sure all panel columns display as blocks */
  .anvil-panel-col {
    display: block !important;
  }
  
  /* Fix for nested columns */
  .anvil-panel-row > .anvil-panel-col {
    display: block !important;
    width: 100% !important;
  }
}